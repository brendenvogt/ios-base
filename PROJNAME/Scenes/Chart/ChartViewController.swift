//
//  ChartViewController.swift
//  PROJNAME
//
//  Created by Brenden Vogt on 11/4/18.
//  Copyright Â© 2018 ORGNAME. All rights reserved.
//

import UIKit
import Charts


class ChartViewController: BaseUIViewController {
    
    private let stackView = UIFactory.stack(spacing: 5, axis: .vertical, alignment: .center, distribution: UIStackView.Distribution.fillProportionally)()
    
    let chartView : LineChartView = {
        let c = LineChartView(frame: .zero)
        
        return c
    }()
    
    override func viewDidLoad() {
        super.viewDidLoad()
        self.view.backgroundColor = .white
        
        self.view.addSubview(stackView)
        stackView.snapToSuperTop()
        
        stackView.addArrangedSubview(chartView)
        chartView.snapToSuperTop()
        chartView.setHeight(200)
        addChartView(1000, range: 10)
    }
    
    func addChartView(_ count: Int, range: UInt32){
        
        let yVals1 = (0..<self.data.count).map { (i) -> ChartDataEntry in
            return ChartDataEntry(x: Double(i), y: self.data[i])
        }
        
        let set1 = LineChartDataSet(values: yVals1, label: "DataSet 1")
        
        set1.axisDependency = .left
        set1.setColor(UIColor.red)
        set1.lineWidth = 0.5
        
        //bezier curve
        set1.mode = .cubicBezier
        set1.cubicIntensity = 0.2
        
        //remove circles
        set1.circleRadius = 3
        set1.drawCirclesEnabled = false
        set1.drawCircleHoleEnabled = false
        
        //fill color
        set1.fillAlpha = 1
        set1.drawFilledEnabled = true
        let gradientColors = [UIColor.red.cgColor, UIColor.white.cgColor] as CFArray
        let colorLocations:[CGFloat] = [1.0, 0.0]
        let gradient = CGGradient.init(colorsSpace: CGColorSpaceCreateDeviceRGB(), colors: gradientColors, locations: colorLocations)
        set1.fill = Fill.fillWithLinearGradient(gradient!, angle: 90.0)
        set1.fillFormatter = DefaultFillFormatter { _,_  -> CGFloat in
            return CGFloat(self.chartView.leftAxis.axisMinimum)
        }
        
        //data
        let data = LineChartData(dataSets: [set1])
        data.setDrawValues(false)
        
        //indicator
        set1.setDrawHighlightIndicators(true)
        set1.highlightColor = .gray
        set1.highlightLineWidth = 0.5
        set1.drawHorizontalHighlightIndicatorEnabled = false
        //legend
        self.chartView.legend.enabled = false
        
        chartView.rightAxis.enabled = false
        chartView.leftAxis.enabled = false
        
        //animate
        //chartView.animate(xAxisDuration: TimeInterval.init(exactly: 5.0)!, easing: nil)
        
        chartView.data = data
    }
    func addSlider(){
        
    }
    

    let data : [Double] = [
        -0.0656306821859696,
        -0.0656306821859696,
        -0.0645488577543327,
        -0.0649094658982117,
        -0.0663518984737275,
        -0.0688761554808802,
        -0.0692367636247592,
        -0.0739246694951856,
        -0.0728428450635487,
        -0.0638276414665748,
        -0.0667125066176065,
        -0.0656306821859696,
        -0.0677943310492434,
        -0.062745817034938,
        -0.0667125066176065,
        -0.0663518984737275,
        -0.0631064251788169,
        -0.0699579799125171,
        -0.0674337229053644,
        -0.0724822369196698,
        -0.0667125066176065,
        -0.0714004124880329,
        -0.0663518984737275,
        -0.0616639926033011,
        -0.0681549391931223,
        -0.0692367636247592,
        -0.0681549391931223,
        -0.0652700740420907,
        -0.0677943310492434,
        -0.062385208891059,
        -0.0634670333226959,
        -0.0605821681716643,
        -0.0634670333226959,
        -0.0634670333226959,
        -0.062745817034938,
        -0.0584185193083905,
        -0.0638276414665748,
        -0.0663518984737275,
        -0.0645488577543327,
        -0.062745817034938,
        -0.0616639926033011,
        -0.0659912903298486,
        -0.0555336541573589,
        -0.0685155473370013,
        -0.0659912903298486,
        -0.0674337229053644,
        -0.0645488577543327,
        -0.0663518984737275,
        -0.0699579799125171,
        -0.0631064251788169,
        -0.0681549391931223,
        -0.0613033844594222,
        -0.0695973717686381,
        -0.0670731147614854,
        -0.0681549391931223,
        -0.0670731147614854,
        -0.0681549391931223,
        -0.0631064251788169,
        -0.0670731147614854,
        -0.0631064251788169,
        -0.0616639926033011,
        -0.0645488577543327,
        -0.0677943310492434,
        -0.0674337229053644,
        -0.062745817034938,
        -0.0591397355961484,
        -0.0613033844594222,
        -0.0638276414665748,
        -0.0602215600277853,
        -0.0638276414665748,
        -0.0638276414665748,
        -0.0609427763155432,
        -0.062745817034938,
        -0.0645488577543327,
        -0.0681549391931223,
        -0.0681549391931223,
        -0.0638276414665748,
        -0.0602215600277853,
        -0.0677943310492434,
        -0.0667125066176065,
        -0.0591397355961484,
        -0.0631064251788169,
        -0.0663518984737275,
        -0.0649094658982117,
        -0.0634670333226959,
        -0.0620246007471801,
        -0.0645488577543327,
        -0.0659912903298486,
        -0.0602215600277853,
        -0.062745817034938,
        -0.0616639926033011,
        -0.0641882496104538,
        -0.0652700740420907,
        -0.062385208891059,
        -0.0605821681716643,
        -0.0620246007471801,
        -0.0616639926033011,
        -0.0613033844594222,
        -0.0641882496104538,
        -0.0667125066176065,
        -0.0613033844594222,
        -0.0735640613513066,
        -0.070679196200275,
        -0.0710398043441539,
        -0.062745817034938,
        -0.0674337229053644,
        -0.0692367636247592,
        -0.0616639926033011,
        -0.0652700740420907,
        -0.0663518984737275,
        -0.062385208891059,
        -0.0645488577543327,
        -0.0685155473370013,
        -0.0598609518839064,
        -0.0695973717686381,
        -0.0631064251788169,
        -0.0616639926033011,
        -0.0681549391931223,
        -0.0631064251788169,
        -0.0652700740420907,
        -0.0649094658982117,
        -0.0649094658982117,
        -0.0681549391931223,
        -0.0620246007471801,
        -0.0667125066176065,
        -0.070679196200275,
        -0.0681549391931223,
        -0.0710398043441539,
        -0.0757277102145803,
        -0.0728428450635487,
        -0.078251967221733,
        -0.0800550079411278,
        -0.0735640613513066,
        -0.0739246694951856,
        -0.0753671020707014,
        -0.0778913590778541,
        -0.078612575365612,
        -0.0800550079411278,
        -0.0757277102145803,
        -0.0811368323727646,
        -0.0833004812360384,
        -0.0807762242288857,
        -0.0746458857829435,
        -0.0681549391931223,
        -0.0674337229053644,
        -0.0663518984737275,
        -0.0645488577543327,
        -0.0692367636247592,
        -0.0714004124880329,
        -0.0681549391931223,
        -0.0645488577543327,
        -0.0710398043441539,
        -0.070318588056396,
        -0.0699579799125171,
        -0.0670731147614854,
        -0.0714004124880329,
        -0.0659912903298486,
        -0.0638276414665748,
        -0.0732034532074277,
        -0.0641882496104538,
        -0.0656306821859696,
        -0.0667125066176065,
        -0.0656306821859696,
        -0.0721216287757908,
        -0.0742852776390645,
        -0.0771701427900961,
        -0.0753671020707014,
        -0.0804156160850067,
        -0.0764489265023382,
        -0.078251967221733,
        -0.0746458857829435,
        -0.0732034532074277,
        -0.0717610206319118,
        -0.0750064939268224,
        -0.0768095346462172,
        -0.0735640613513066,
        -0.0732034532074277,
        -0.070318588056396,
        -0.0634670333226959,
        -0.0652700740420907,
        -0.0681549391931223,
        -0.0652700740420907,
        -0.0634670333226959,
        -0.0573366948767537,
        -0.0634670333226959,
        -0.0602215600277853,
        -0.0613033844594222,
        -0.0537306134379641,
        -0.0598609518839064,
        -0.0526487890063273,
        -0.0508457482869325,
        -0.0526487890063273,
        -0.0558942623012379,
        -0.0490427075675377,
        -0.0501245319991746,
        -0.0497639238552956,
        -0.0490427075675377,
        -0.0494033157114167,
        -0.0432729772654745,
        -0.0421911528338376,
        -0.0443548016971113,
        -0.0403881121144428,
        -0.0421911528338376,
        -0.0357002062440164,
        -0.0385850713950481,
        -0.0382244632511691,
        -0.0400275039705639,
        -0.0328153410929848,
        -0.0331759492368638,
        -0.0299304759419532,
        -0.0328153410929848,
        -0.0324547329491059,
        -0.0364214225317744,
        -0.0302910840858321,
        -0.0317335166613479,
        -0.03101230037359,
        -0.0331759492368638,
        -0.0284880433664374,
        -0.0212758804888583,
        -0.0245213537837689,
        -0.0216364886327372,
        -0.0140637176112792,
        -0.0194728397694635,
        -0.0176697990500687,
        -0.0198334479133425,
        -0.0205546642011004,
        -0.015866758330674,
        -0.0093758117408528,
        -0.00757277102145803,
        -0.0122606768918844,
        -0.0198334479133425,
        -0.0198334479133425,
        -0.0230789212082531,
        -0.0147849338990371,
        -0.0147849338990371,
        -0.0137031094674003,
        -0.0180304071939477,
        -0.023800137496011,
        -0.0270456107909215,
        -0.0216364886327372,
        -0.0302910840858321,
        -0.0292092596541953,
        -0.0259637863592847,
        -0.0209152723449793,
        -0.0281274352225584,
        -0.0263243945031636,
        -0.0284880433664374,
        -0.0302910840858321,
        -0.0328153410929848,
        -0.0411093284022008,
        -0.0429123691215955,
        -0.0382244632511691,
        -0.0385850713950481,
        -0.0411093284022008,
        -0.046879058704264,
        -0.0479608831359009,
        -0.0436335854093534,
        -0.0421911528338376,
        -0.0494033157114167,
        -0.05517304601348,
        -0.062385208891059,
        -0.0710398043441539,
        -0.0645488577543327,
        -0.0641882496104538,
        -0.0663518984737275,
        -0.070318588056396,
        -0.0717610206319118,
        -0.0771701427900961,
        -0.0699579799125171,
        -0.0760883183584593,
        -0.0742852776390645,
        -0.0789731835094909,
        -0.0742852776390645,
        -0.0753671020707014,
        -0.0829398730921594,
        -0.078251967221733,
        -0.0865459545309489,
        -0.0959217662718018,
        -0.0905126441136174,
        -0.0901520359697385,
        -0.0923156848330122,
        -0.102052104717744,
        -0.0948399418401649,
        -0.094118725552407,
        -0.0977248069911965,
        -0.0984460232789544,
        -0.101330888429986,
        -0.100970280286107,
        -0.0905126441136174,
        -0.104576361724897,
        -0.100249063998349,
        -0.0955611581279228,
        -0.0991672395667123,
        -0.0995278477105913,
        -0.0998884558544703,
        -0.102412712861623,
        -0.105658186156534,
        -0.102052104717744,
        -0.100249063998349,
        -0.0980854151350755,
        -0.105297578012655,
        -0.105297578012655,
        -0.104215753581018,
        -0.10349453729326,
        -0.108182443163686,
        -0.102052104717744,
        -0.104576361724897,
        -0.102412712861623,
        -0.101691496573865,
        -0.101330888429986,
        -0.105297578012655,
        -0.103133929149381,
        -0.102412712861623,
        -0.104936969868776,
        -0.100609672142228,
        -0.100970280286107,
        -0.102412712861623,
        -0.11034609202696,
        -0.110706700170839,
        -0.102052104717744,
        -0.105297578012655,
        -0.104936969868776,
        -0.103133929149381,
        -0.108182443163686,
        -0.117558254904539,
        -0.112509740890234,
        -0.11034609202696,
        -0.109264267595323,
        -0.108903659451444,
        -0.103855145437139,
        -0.108543051307565,
        -0.100970280286107,
        -0.109624875739202,
        -0.104936969868776,
        -0.106379402444291,
        -0.105658186156534,
        -0.12080372819945,
        -0.12404920149436,
        -0.127294674789271,
        -0.130179539940302,
        -0.131982580659697,
        -0.138473527249518,
        -0.138834135393397,
        -0.14135839240055,
        -0.146767514558734,
        -0.155422110011829,
        -0.160831232170013,
        -0.170207043910866,
        -0.162634272889408,
        -0.164076705464924,
        -0.167322178759835,
        -0.166600962472077,
        -0.167322178759835,
        -0.157946367018982,
        -0.152537244860798,
        -0.135228053954608,
        -0.126573458501513,
        -0.101330888429986,
        -0.0865459545309489,
        -0.0562548704451168,
        -0.0216364886327372,
        0.00396668958266849,
        0.0504851401430536,
        0.0814974405166436,
        0.116115822329023,
        0.153979677436313,
        0.196892046557909,
        0.22754373878762,
        0.271177324196973,
        0.302910840858321,
        0.329956451649243,
        0.354838413576891,
        0.380802199936175,
        0.389096187245391,
        0.413256932885281,
        0.432008556366987,
        0.426960042352682,
        0.43453281337414,
        0.423714569057771,
        0.416502406180192,
        0.391981052396423,
        0.373229428914717,
        0.343659561116643,
        0.30687753044099,
        0.274062189348005,
        0.235837726096836,
        0.182107112658872,
        0.137031094674003,
        0.104936969868776,
        0.0674337229053644,
        0.0306516922297111,
        -0.00288486515103163,
        -0.0259637863592847,
        -0.0486820994236588,
        -0.0645488577543327,
        -0.0778913590778541,
        -0.0991672395667123,
        -0.107100618732049,
        -0.104936969868776,
        -0.10349453729326,
        -0.118640079336176,
        -0.121524944487207,
        -0.116837038616781,
        -0.120082511911692,
        -0.11719764676066,
        -0.119000687480055,
        -0.121885552631086,
        -0.12765528293315,
        -0.121524944487207,
        -0.122246160774965,
        -0.123327985206602,
        -0.123688593350481,
        -0.113591565321871,
        -0.109624875739202,
        -0.115394606041265,
        -0.108543051307565,
        -0.111067308314718,
        -0.104215753581018,
        -0.094118725552407,
        -0.0915944685452543,
        -0.0840216975237963,
        -0.0721216287757908,
        -0.0757277102145803,
        -0.0764489265023382,
        -0.0714004124880329,
        -0.0613033844594222,
        -0.0659912903298486,
        -0.070318588056396,
        -0.0609427763155432,
        -0.0670731147614854,
        -0.0638276414665748,
        -0.0620246007471801,
        -0.0674337229053644,
        -0.0732034532074277,
        -0.0685155473370013,
        -0.0670731147614854,
        -0.0695973717686381,
        -0.0634670333226959,
        -0.0714004124880329,
        -0.0800550079411278,
        -0.0793337916533699,
        -0.0768095346462172,
        -0.0714004124880329,
        -0.0717610206319118,
        -0.0721216287757908,
        -0.0757277102145803,
        -0.0714004124880329,
        -0.0800550079411278,
        -0.0814974405166436,
        -0.0840216975237963,
        -0.078251967221733,
        -0.0847429138115542,
        -0.08618534638707,
        -0.0876277789625858,
        -0.0829398730921594,
        -0.0750064939268224,
        -0.0800550079411278,
        -0.0818580486605226,
        -0.0771701427900961,
        -0.0760883183584593,
        -0.0775307509339751,
        -0.0764489265023382,
        -0.0811368323727646,
        -0.0793337916533699,
        -0.0836610893799173,
        -0.0634670333226959,
        -0.0569760867328747,
        -0.0638276414665748,
        -0.0685155473370013,
        -0.0634670333226959,
        -0.062745817034938,
        -0.0587791274522695,
        -0.062745817034938,
        -0.0591397355961484,
        -0.0573366948767537,
        -0.0555336541573589,
        -0.0620246007471801,
        -0.0573366948767537,
        -0.0540912215818431,
        -0.0595003437400274,
        -0.0540912215818431,
        -0.0530093971502062,
        -0.0522881808624483,
        -0.0429123691215955,
        -0.0501245319991746,
        -0.0494033157114167,
        -0.0364214225317744,
        -0.0335365573807427,
        -0.0331759492368638,
        -0.0346183818123796,
        -0.0331759492368638,
        -0.0421911528338376,
        -0.0328153410929848,
        -0.0306516922297111,
        -0.0248819619276478,
        -0.0284880433664374,
        -0.0281274352225584,
        -0.0320941248052269,
        -0.0248819619276478,
        -0.0256031782154057,
        -0.0209152723449793,
        -0.0173091909061898,
        -0.0151455420429161,
        -0.0241607456398899,
        -0.0169485827623108,
        -0.0147849338990371,
        -0.0129818931796423,
        -0.0129818931796423,
        -0.0162273664745529,
        -0.0129818931796423,
        -0.00721216287757908,
        -0.00649094658982117,
        -0.0046879058704264,
        -0.00396668958266849,
        0.00216364886327372,
        -0.00288486515103163,
        -0.00180304071939477,
        0.000721216287757908,
        0.00108182443163686,
        0.00649094658982117,
        0.0119000687480055,
        0.00829398730921594,
        0.0119000687480055,
        0.00865459545309489,
        0.0209152723449793,
        0.0227183130643741,
        0.0263243945031636,
        0.0288486515103163,
        0.0295698677980742,
        0.0342577736685006,
        0.0357002062440164,
        0.0403881121144428,
        0.0432729772654745,
        0.0414699365460797,
        0.0479608831359009,
        0.0490427075675377,
        0.0494033157114167,
        0.046879058704264,
        0.0530093971502062,
        0.0494033157114167,
        0.0544518297257221,
        0.062385208891059,
        0.0652700740420907,
        0.0638276414665748,
        0.0739246694951856,
        0.070318588056396,
        0.0663518984737275,
        0.078251967221733,
        0.0764489265023382,
        0.0800550079411278,
        0.0836610893799173,
        0.0836610893799173,
        0.0887096033942227,
        0.0933975092646491,
        0.0930369011207701,
        0.0912338604013754,
        0.0948399418401649,
        0.0984460232789544,
        0.0988066314228334,
        0.103855145437139,
        0.105658186156534,
        0.109264267595323,
        0.11034609202696,
        0.114312781609628,
        0.115755214185144,
        0.11719764676066,
        0.120443120055571,
        0.122967377062723,
        0.124770417782118,
        0.125852242213755,
        0.127294674789271,
        0.125852242213755,
        0.128737107364787,
        0.130540148084181,
        0.127294674789271,
        0.130540148084181,
        0.138112919105639,
        0.138473527249518,
        0.140997784256671,
        0.143882649407703,
        0.140997784256671,
        0.140637176112792,
        0.141719000544429,
        0.145685690127097,
        0.14496447383934,
        0.14820994713425,
        0.147849338990371,
        0.148570555278129,
        0.148570555278129,
        0.145685690127097,
        0.145325081983218,
        0.150012987853645,
        0.143882649407703,
        0.144603865695461,
        0.140637176112792,
        0.137031094674003,
        0.138834135393397,
        0.133064405091334,
        0.139194743537276,
        0.140637176112792,
        0.138112919105639,
        0.134867445810729,
        0.129458323652544,
        0.126934066645392,
        0.122967377062723,
        0.120082511911692,
        0.112149132746355,
        0.113230957177992,
        0.113230957177992,
        0.108182443163686,
        0.102412712861623,
        0.0995278477105913,
        0.094118725552407,
        0.0843823056676752,
        0.0771701427900961,
        0.0771701427900961,
        0.0717610206319118,
        0.0652700740420907,
        0.0638276414665748,
        0.062385208891059,
        0.0584185193083905,
        0.0544518297257221,
        0.054812437869601,
        0.038945679538927,
        0.0360608143878954,
        0.0302910840858321,
        0.0277668270786795,
        0.0144243257551582,
        0.0126212850357634,
        0.0162273664745529,
        0.0176697990500687,
        0.0151455420429161,
        0.0133425013235213,
        0.00649094658982117,
        -0.0046879058704264,
        -0.0176697990500687,
        -0.0180304071939477,
        -0.0256031782154057,
        -0.0342577736685006,
        -0.0317335166613479,
        -0.0382244632511691,
        -0.0403881121144428,
        -0.0501245319991746,
        -0.0429123691215955,
        -0.0432729772654745,
        -0.0486820994236588,
        -0.0497639238552956,
        -0.0522881808624483,
        -0.0591397355961484,
        -0.0595003437400274,
        -0.0659912903298486,
        -0.0695973717686381,
        -0.0825792649482804,
        -0.0746458857829435,
        -0.0735640613513066,
        -0.0721216287757908,
        -0.0750064939268224,
        -0.0793337916533699,
        -0.0771701427900961,
        -0.0825792649482804,
        -0.0778913590778541,
        -0.0822186568044015,
        -0.0851035219554331,
        -0.0825792649482804,
        -0.0883489952503437,
        -0.0970035907034386,
        -0.093758117408528,
        -0.0905126441136174,
        -0.0933975092646491,
        -0.0847429138115542,
        -0.0970035907034386,
        -0.0984460232789544,
        -0.0966429825595597,
        -0.101691496573865,
        -0.0966429825595597,
        -0.104215753581018,
        -0.102412712861623,
        -0.0966429825595597,
        -0.0977248069911965,
        -0.0973641988473176,
        -0.100609672142228,
        -0.0995278477105913,
        -0.107100618732049,
        -0.0977248069911965,
        -0.0991672395667123,
        -0.101691496573865,
        -0.0984460232789544,
        -0.0984460232789544,
        -0.0991672395667123,
        -0.0955611581279228,
        -0.0930369011207701,
        -0.0988066314228334,
        -0.0984460232789544,
        -0.0998884558544703,
        -0.0970035907034386,
        -0.0973641988473176,
        -0.0991672395667123,
        -0.0973641988473176,
        -0.0966429825595597,
        -0.0919550766891333,
        -0.0933975092646491,
        -0.0926762929768912,
        -0.0919550766891333,
        -0.0962823744156807,
        -0.0962823744156807,
        -0.0966429825595597,
        -0.0908732522574964,
        -0.0952005499840438,
        -0.0908732522574964,
        -0.093758117408528,
        -0.0915944685452543,
        -0.0959217662718018,
        -0.0915944685452543,
        -0.0977248069911965,
        -0.0970035907034386,
        -0.0883489952503437,
        -0.0894308196819806,
        -0.0912338604013754,
        -0.0894308196819806,
        -0.0901520359697385,
        -0.0869065626748279,
        -0.0883489952503437,
        -0.0833004812360384,
        -0.0930369011207701,
        -0.0865459545309489,
        -0.0872671708187069,
        -0.0919550766891333,
        -0.0912338604013754,
        -0.0926762929768912,
        -0.0887096033942227,
        -0.0952005499840438,
        -0.0926762929768912,
        -0.0908732522574964,
        -0.0869065626748279,
        -0.0919550766891333,
        -0.0901520359697385,
        -0.0793337916533699,
        -0.0710398043441539,
        -0.0753671020707014,
        -0.0778913590778541,
        -0.070679196200275,
        -0.0753671020707014,
        -0.0692367636247592,
        -0.0695973717686381,
        -0.070679196200275,
        -0.0724822369196698,
        -0.070679196200275,
        -0.0746458857829435,
        -0.0764489265023382,
        -0.078251967221733,
        -0.070679196200275,
        -0.0753671020707014,
        -0.0724822369196698,
        -0.0688761554808802,
        -0.0674337229053644,
        -0.0721216287757908
    ]
    
}
